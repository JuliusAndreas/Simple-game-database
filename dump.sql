PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE GamePlatform(
GamePlatformID INTEGER PRIMARY KEY AUTOINCREMENT,
GameKey INTEGER NOT NULL,
PlatformKey INTEGER NOT NULL,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID),
CONSTRAINT FK_Platform_ID FOREIGN KEY(PlatformKey) REFERENCES Platform(PlatformID)
);
INSERT INTO GamePlatform VALUES(1,1,2);
INSERT INTO GamePlatform VALUES(2,2,1);
INSERT INTO GamePlatform VALUES(3,2,8);
INSERT INTO GamePlatform VALUES(4,3,6);
INSERT INTO GamePlatform VALUES(5,4,1);
INSERT INTO GamePlatform VALUES(6,4,2);
INSERT INTO GamePlatform VALUES(7,4,12);
INSERT INTO GamePlatform VALUES(8,5,2);
INSERT INTO GamePlatform VALUES(9,6,1);
INSERT INTO GamePlatform VALUES(10,6,11);
INSERT INTO GamePlatform VALUES(11,6,8);
INSERT INTO GamePlatform VALUES(12,7,6);
INSERT INTO GamePlatform VALUES(13,8,1);
INSERT INTO GamePlatform VALUES(14,8,2);
INSERT INTO GamePlatform VALUES(15,8,7);
INSERT INTO GamePlatform VALUES(16,8,3);
INSERT INTO GamePlatform VALUES(17,8,12);
INSERT INTO GamePlatform VALUES(18,8,13);
INSERT INTO GamePlatform VALUES(19,10,1);
INSERT INTO GamePlatform VALUES(20,11,1);
INSERT INTO GamePlatform VALUES(21,11,2);
INSERT INTO GamePlatform VALUES(22,11,12);
INSERT INTO GamePlatform VALUES(23,13,2);
INSERT INTO GamePlatform VALUES(24,12,2);
INSERT INTO GamePlatform VALUES(25,12,7);
INSERT INTO GamePlatform VALUES(26,12,4);
INSERT INTO GamePlatform VALUES(27,1,1);
INSERT INTO GamePlatform VALUES(28,1,12);
INSERT INTO GamePlatform VALUES(29,14,7);
INSERT INTO GamePlatform VALUES(30,14,2);
INSERT INTO GamePlatform VALUES(31,14,4);
INSERT INTO GamePlatform VALUES(32,14,12);
CREATE TABLE GameGenre(
GameGenreID INTEGER PRIMARY KEY AUTOINCREMENT,
GameKey INTEGER NOT NULL,
GenreKey INTEGER NOT NULL,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID), 
CONSTRAINT FK_Genre_ID FOREIGN KEY(GenreKey) REFERENCES Genre(GenreID)
);
INSERT INTO GameGenre VALUES(1,1,2);
INSERT INTO GameGenre VALUES(2,1,11);
INSERT INTO GameGenre VALUES(3,2,1);
INSERT INTO GameGenre VALUES(4,2,5);
INSERT INTO GameGenre VALUES(5,2,11);
INSERT INTO GameGenre VALUES(6,3,6);
INSERT INTO GameGenre VALUES(7,4,11);
INSERT INTO GameGenre VALUES(8,5,4);
INSERT INTO GameGenre VALUES(9,7,3);
INSERT INTO GameGenre VALUES(10,8,2);
INSERT INTO GameGenre VALUES(11,8,11);
INSERT INTO GameGenre VALUES(12,9,4);
INSERT INTO GameGenre VALUES(13,11,9);
INSERT INTO GameGenre VALUES(14,12,7);
INSERT INTO GameGenre VALUES(15,12,11);
INSERT INTO GameGenre VALUES(16,13,2);
INSERT INTO GameGenre VALUES(17,13,7);
INSERT INTO GameGenre VALUES(18,14,2);
INSERT INTO GameGenre VALUES(19,14,11);
CREATE TABLE GameCharacter(
GameCharacterID INTEGER PRIMARY KEY AUTOINCREMENT,
GameKey INTEGER NOT NULL,
CharacterKey INTEGER,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID),  
CONSTRAINT FK_Character_ID FOREIGN KEY(CharacterKey) REFERENCES Character(CharacterID)
);
INSERT INTO GameCharacter VALUES(1,1,1);
INSERT INTO GameCharacter VALUES(2,10,2);
INSERT INTO GameCharacter VALUES(3,10,3);
INSERT INTO GameCharacter VALUES(4,3,4);
INSERT INTO GameCharacter VALUES(5,8,5);
INSERT INTO GameCharacter VALUES(6,9,6);
INSERT INTO GameCharacter VALUES(7,2,7);
INSERT INTO GameCharacter VALUES(8,6,8);
INSERT INTO GameCharacter VALUES(9,5,9);
INSERT INTO GameCharacter VALUES(10,1,10);
CREATE TABLE Memory(
MemoryID INTEGER PRIMARY KEY AUTOINCREMENT,
Description VARCHAR(255) NOT NULL,
Date DATE,
GameKey INTEGER NOT NULL,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID),
CONSTRAINT CK_description UNIQUE(Description)
);
INSERT INTO Memory VALUES(1,'Blowing the car by throwing the helicopter','2020-04-04',1);
INSERT INTO Memory VALUES(2,'Defeating boss by one shot','2020-05-07',2);
INSERT INTO Memory VALUES(3,'Burning the plane pilot by incendiary arrow from the ground','2020-06-17',1);
INSERT INTO Memory VALUES(4,'Gaining access to crooked creek farm','2020-11-11',7);
INSERT INTO Memory VALUES(5,'Winning 15-1 against Inter Milan','2020-05-28',11);
INSERT INTO Memory VALUES(6,'Escaping a heavily guarded town without using a disguise while staying undetected','2020-04-07',12);
INSERT INTO Memory VALUES(7,'Two Enemy choppers Colliding and being destroyed','2019-10-01',14);
INSERT INTO Memory VALUES(8,'Fighting a yeti by knife','2019-11-07',14);
INSERT INTO Memory VALUES(9,'Innovative method for ambushing','2019-10-07',14);
INSERT INTO Memory VALUES(10,'First Confrontation with the Yetis','2019-10-17',14);
CREATE TABLE Company(
CompanyID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL,
NumberOfGamesMade INTEGER CHECK (NumberOfGamesMade != 0),
Country VARCHAR(255),
StockPrice DOUBLE,
FoundationDate DATE,
CONSTRAINT CK_name UNIQUE(Name)
);
INSERT INTO Company VALUES(1,'Ubisoft',NULL,'france',79.099999999999994317,'1986-03-12');
INSERT INTO Company VALUES(2,'Sony',NULL,'Japan',9.9529999999999994031,'1946-05-07');
INSERT INTO Company VALUES(3,'Rockstar',33,'USA',NULL,'1998-12-01');
INSERT INTO Company VALUES(4,'Square Enix',NULL,'Japan',6.1500000000000003552,'1975-09-29');
INSERT INTO Company VALUES(5,'Naughty Dog',NULL,'USA',NULL,'1984-09-27');
INSERT INTO Company VALUES(6,'Capcom',NULL,'Japan',6.5899999999999998578,'1979-05-30');
INSERT INTO Company VALUES(7,'Rusty Lake',14,'Netherlands',NULL,'2015-04-25');
INSERT INTO Company VALUES(8,'Konami',100,'Japan',5.75,'1969-03-21');
INSERT INTO Company VALUES(9,'Activision',51,'USA',90.959999999999993748,'1979-10-01');
INSERT INTO Company VALUES(10,'Xbox Game Studios',726,'USA',NULL,'2000-03-01');
INSERT INTO Company VALUES(11,'Kefir',4,'Russia',NULL,'2009-01-01');
CREATE TABLE Character(
CharacterID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL,
Age INTEGER,
Playability BOOLEAN,
CONSTRAINT CK_name UNIQUE(Name)
);
INSERT INTO Character VALUES(1,'Hurk Drubman',NULL,0);
INSERT INTO Character VALUES(2,'Kratos',150,1);
INSERT INTO Character VALUES(3,'Atreus',12,0);
INSERT INTO Character VALUES(4,'Dale Vandermeer',NULL,1);
INSERT INTO Character VALUES(5,'Trevor Philips',45,1);
INSERT INTO Character VALUES(6,'Luigi',25,1);
INSERT INTO Character VALUES(7,'Leon S.Kennedy',27,1);
INSERT INTO Character VALUES(8,'Dante',19,1);
INSERT INTO Character VALUES(9,'Ori',5,1);
INSERT INTO Character VALUES(10,'Joseph Seed',44,0);
INSERT INTO Character VALUES(11,'Berusky',NULL,1);
CREATE TABLE Genre(
GenreID INTEGER PRIMARY KEY AUTOINCREMENT,
Title VARCHAR(255) NOT NULL,
Score INTEGER CHECK(Score < 100),
CONSTRAINT CK_title UNIQUE(Title)
);
INSERT INTO Genre VALUES(1,'Horror',60);
INSERT INTO Genre VALUES(2,'OpenWorld',90);
INSERT INTO Genre VALUES(3,'Strategic',83);
INSERT INTO Genre VALUES(4,'Platformer',65);
INSERT INTO Genre VALUES(5,'Survival',85);
INSERT INTO Genre VALUES(6,'Puzzle',89);
INSERT INTO Genre VALUES(7,'Stealth',91);
INSERT INTO Genre VALUES(8,'Role-Playing',89);
INSERT INTO Genre VALUES(9,'Sports',88);
INSERT INTO Genre VALUES(10,'Simulation',83);
INSERT INTO Genre VALUES(11,'Shooter',90);
CREATE TABLE OS(
OSID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL,
CONSTRAINT CK_name UNIQUE(Name)
);
INSERT INTO OS VALUES(1,'Windows');
INSERT INTO OS VALUES(2,'Android');
INSERT INTO OS VALUES(3,'Linux');
INSERT INTO OS VALUES(4,'Orbis');
INSERT INTO OS VALUES(5,'Horizen');
INSERT INTO OS VALUES(6,'iOS');
INSERT INTO OS VALUES(7,'Java');
INSERT INTO OS VALUES(8,'OS Sierra');
INSERT INTO OS VALUES(9,'Symbian');
INSERT INTO OS VALUES(10,'Solaris');
INSERT INTO OS VALUES(11,'Macintosh');
CREATE TABLE Platform(
PlatformID INTEGER PRIMARY KEY AUTOINCREMENT,
Name VARCHAR(255) NOT NULL,
CONSTRAINT CK_name UNIQUE(Name)
);
INSERT INTO Platform VALUES(1,'PS4');
INSERT INTO Platform VALUES(2,'PC');
INSERT INTO Platform VALUES(3,'PS5');
INSERT INTO Platform VALUES(4,'Xbox 360');
INSERT INTO Platform VALUES(5,'Sega Mega Drive/Genesis');
INSERT INTO Platform VALUES(6,'Mobile');
INSERT INTO Platform VALUES(7,'PS3');
INSERT INTO Platform VALUES(8,'PS2');
INSERT INTO Platform VALUES(9,'PS1');
INSERT INTO Platform VALUES(10,'PSP');
INSERT INTO Platform VALUES(11,'Nintendo Switch');
INSERT INTO Platform VALUES(12,'Xbox One');
INSERT INTO Platform VALUES(13,'Xbox Series X');
CREATE TABLE SequelOf(
SequelOfID INTEGER PRIMARY KEY AUTOINCREMENT,
SequelGameKey INT,
BeingSequeledGameKey INT,
CONSTRAINT FK_Sequel_Of FOREIGN KEY(SequelGameKey) REFERENCES Game(GameID),  
CONSTRAINT FK_Being_Sequeled FOREIGN KEY(BeingSequeledGameKey) REFERENCES Game(GameID),
CONSTRAINT CK_SequelOf UNIQUE(SequelGameKey,BeingSequeledGameKey)
);
INSERT INTO SequelOf VALUES(1,1,14);
CREATE TABLE Produce(
ProduceID INTEGER PRIMARY KEY AUTOINCREMENT,
GameKey INTEGER NOT NULL,
CompanyKey INTEGER NOT NULL,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID),  
CONSTRAINT FK_Company_ID FOREIGN KEY(CompanyKey) REFERENCES Company(CompanyID)
);
INSERT INTO Produce VALUES(1,1,1);
INSERT INTO Produce VALUES(2,8,3);
INSERT INTO Produce VALUES(3,12,4);
INSERT INTO Produce VALUES(4,14,1);
INSERT INTO Produce VALUES(5,5,10);
INSERT INTO Produce VALUES(6,4,9);
INSERT INTO Produce VALUES(7,11,8);
INSERT INTO Produce VALUES(8,7,11);
INSERT INTO Produce VALUES(9,3,7);
INSERT INTO Produce VALUES(10,6,6);
INSERT INTO Produce VALUES(11,2,6);
INSERT INTO Produce VALUES(12,13,1);
CREATE TABLE Game (
GameID INTEGER PRIMARY KEY AUTOINCREMENT,
Title VARCHAR(255) NOT NULL,
ReleaseDate DATE,
FinishedDate DATE,
SerieLength INTEGER CHECK (SerieLength >= 1),
Score INTEGER CHECK(Score < 100),
POV VARCHAR(255) NOT NULL CHECK (POV == 'FPP' OR POV == 'TPP' OR POV == 'FPPTPP'),
MultiplayerCapability BOOLEAN,
CONSTRAINT CK_title UNIQUE(Title)
);
INSERT INTO Game VALUES(1,'Far Cry 5','2018-03-27','2020-03-01',7,76,'FPP',1);
INSERT INTO Game VALUES(2,'Resident Evil 4','2005-01-11','2020-05-10',11,69,'TPP',0);
INSERT INTO Game VALUES(3,'Cube escape: Paradox','2018-09-20','2019-01-21',14,95,'FPP',0);
INSERT INTO Game VALUES(4,'Call of Duty Warzone','2020-03-10',NULL,1,NULL,'FPP',1);
INSERT INTO Game VALUES(5,'Ori and the blind forest','2015-03-11','2019-12-13',2,77,'TPP',0);
INSERT INTO Game VALUES(6,'Devil may cry 3','2005-02-17',NULL,5,NULL,'TPP',0);
INSERT INTO Game VALUES(7,'Last day on earth','2017-05-01',NULL,1,90,'TPP',1);
INSERT INTO Game VALUES(8,'GTA V','2013-09-17',NULL,7,NULL,'TPP',1);
INSERT INTO Game VALUES(9,'Super mario Bros','1985-09-13',NULL,21,88,'TPP',0);
INSERT INTO Game VALUES(10,'God of War','2018-04-20',NULL,7,NULL,'TPP',0);
INSERT INTO Game VALUES(11,'Pro Evolution Soccer 2017','2016-09-13',NULL,20,93,'TPP',1);
INSERT INTO Game VALUES(12,'Hitman Absolution','2012-11-20',NULL,8,92,'TPP',1);
INSERT INTO Game VALUES(13,'Assassins Creed 2','2009-11-17','2019-08-10',11,92,'TPP',0);
INSERT INTO Game VALUES(14,'Far Cry 4','2014-11-18','2019-12-01',7,89,'FPP',1);
INSERT INTO Game VALUES(15,'Resident Evil 7','2017-01-24','null',10,NULL,'TPP',1);
CREATE TABLE GameOS(
GameOSID INTEGER PRIMARY KEY AUTOINCREMENT,
GameKey INTEGER NOT NULL,
OSKey INTEGER NOT NULL,
CONSTRAINT FK_Game_ID FOREIGN KEY(GameKey) REFERENCES Game(GameID),  
CONSTRAINT FK_OS_ID FOREIGN KEY(OSKey) REFERENCES OS(OSID)
);
INSERT INTO GameOS VALUES(1,1,1);
INSERT INTO GameOS VALUES(2,2,1);
INSERT INTO GameOS VALUES(3,4,1);
INSERT INTO GameOS VALUES(4,5,1);
INSERT INTO GameOS VALUES(5,6,1);
INSERT INTO GameOS VALUES(6,8,1);
INSERT INTO GameOS VALUES(7,11,1);
INSERT INTO GameOS VALUES(8,12,1);
INSERT INTO GameOS VALUES(9,13,1);
INSERT INTO GameOS VALUES(10,14,1);
INSERT INTO GameOS VALUES(11,10,4);
INSERT INTO GameOS VALUES(12,1,4);
INSERT INTO GameOS VALUES(13,4,4);
INSERT INTO GameOS VALUES(14,5,4);
INSERT INTO GameOS VALUES(15,11,4);
INSERT INTO GameOS VALUES(16,14,4);
INSERT INTO GameOS VALUES(17,7,2);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('Game',17);
INSERT INTO sqlite_sequence VALUES('Character',11);
INSERT INTO sqlite_sequence VALUES('GameCharacter',10);
INSERT INTO sqlite_sequence VALUES('GameGenre',19);
INSERT INTO sqlite_sequence VALUES('Company',11);
INSERT INTO sqlite_sequence VALUES('Produce',12);
INSERT INTO sqlite_sequence VALUES('OS',11);
INSERT INTO sqlite_sequence VALUES('Platform',13);
INSERT INTO sqlite_sequence VALUES('GamePlatform',32);
INSERT INTO sqlite_sequence VALUES('Genre',11);
INSERT INTO sqlite_sequence VALUES('Memory',10);
INSERT INTO sqlite_sequence VALUES('SequelOf',1);
INSERT INTO sqlite_sequence VALUES('GameOS',17);
COMMIT;
